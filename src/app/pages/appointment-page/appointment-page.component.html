<app-dashboard-template>
  <div class="p-4 sm:p-6 md:p-8">
    <div class="flex flex-wrap justify-between gap-3 mb-6 md:mb-8">
      <div class="flex flex-col gap-2">
        <p class="text-text-dark dark:text-text-light text-2xl sm:text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]">Agendar um Horário</p>
        <p class="text-text-muted-dark dark:text-text-muted-light text-sm sm:text-base font-normal leading-normal">Selecione um dia para ver e agendar os horários disponíveis.</p>
      </div>
    </div>

    @if (showSuccessMessage || showErrorMessage) {
      <div 
        class="mb-6 p-4 rounded-lg border flex items-center gap-3 transition-all duration-300"
        [class.bg-green-50]="showSuccessMessage"
        [class.dark:bg-green-900/20]="showSuccessMessage"
        [class.border-green-200]="showSuccessMessage"
        [class.dark:border-green-800]="showSuccessMessage"
        [class.text-green-800]="showSuccessMessage"
        [class.dark:text-green-200]="showSuccessMessage"
        [class.bg-red-50]="showErrorMessage"
        [class.dark:bg-red-900/20]="showErrorMessage"
        [class.border-red-200]="showErrorMessage"
        [class.dark:border-red-800]="showErrorMessage"
        [class.text-red-800]="showErrorMessage"
        [class.dark:text-red-200]="showErrorMessage">
        <app-icon 
          [name]="showSuccessMessage ? 'check_circle' : 'error'"
          size="md">
        </app-icon>
        <p class="text-sm font-medium">{{ message }}</p>
      </div>
    }

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8">
      <app-calendar 
        [selectedDate]="selectedDate"
        [refreshTrigger]="refreshTrigger"
        (dateSelected)="onDateSelected($event)">
      </app-calendar>
      <app-time-slot-list 
        [selectedDate]="selectedDate"
        [refreshTrigger]="refreshTrigger"
        (scheduleAppointment)="onScheduleAppointment($event)">
      </app-time-slot-list>
    </div>
  </div>
</app-dashboard-template>

